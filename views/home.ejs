<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://kit.fontawesome.com/1c47cb3d39.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="icon" href="/img/rainbow-solid.ico" type="image/x-icon">
  <link rel="shortcut icon" href="/img/rainbow-solid.ico" type="image/ico">
  <title>ClimaDina</title>
</head>
<body class="bg-light">

  <!-- Inicio NavBar -->
  <header><%- include("./partials/navBar") %></header>
  <!-- Fin NavBar -->

  <div class="container">
    <h1 class="text-center mt-4">Bienvenido!</h1> 
    <h3 class="text-center mt-4 mb-4">Consulta el Clima de tus Localidades Favoritas</h3>
  
    <!-- Provincias Home  -->
    <section class="row row-cols-1 row-cols-md-3 g-4 mt-3">
      <% provincesHome.forEach(data => { %>
        <div class="col"> 
          <div class="card text-dark bg-info mb-3 shadow" style="max-width: 18rem;">
            <div class="card-header"><h2 class="text-center"><%= data.name %></h2>
            <% if(data.weather.description.toLowerCase().includes('neblina')){ %>
              <%}else if(data.weather.description.toLowerCase().includes('tormenta')){ %> 
                <p class="text-center"><i class="fas fa-bolt fa-3x"></i></p>
              <p class="text-center"><i class="fas fa-smog fa-3x"></i></p>
              <%}else if(data.weather.description.toLowerCase().includes('chaparrones')){ %> 
                <p class="text-center"><i class="fas fa-cloud-showers-heavy fa-3x"></i></p>
              <%}else if(data.weather.description.toLowerCase().includes('llovizna')){ %> 
                <p class="text-center"><i class="fas fa-cloud-rain fa-3x"></i></p>  
              <%}else if(data.weather.description.toLowerCase().includes('nublado')){ %> 
              <p class="text-center"><i class="fas fa-cloud-sun fa-3x"></i></p>
              <% }else if(data.weather.description.toLowerCase().includes('cubierto')){ %>
                <p class="text-center"><i class="fas fa-cloud fa-3x"></i></p>
              <% }else if(data.weather.description.toLowerCase().includes('despejado')){ %>
                <p class="text-center"><i class="fas fa-sun fa-3x"></i></p>
              <% }else{ %>     
                <p class="text-center"><i class="fas fa-rainbow fa-3x"></i></p>
              <% } %>   
            </div>
            <div class="card-body">
              <h5 class="card-title">La temperatura es de <%= data.weather.tempDesc %></h5>
              <p class="card-text"><% if(data.weather.temp < 10){ %>
                Actualmente hace <strong>¡mucho frío!</strong>
              <% }else if(data.weather.temp < 20 && data.weather.temp >= 10){ %> </p>
                <p>Actualmente está <strong>¡un poco fresco!</strong></p>
                <% }else if(data.weather.temp >= 20 && data.weather.temp < 30){ %> 
                  <p>Actualmente está <strong>¡agradable!</strong></p>
                <% }else if(data.weather.temp >= 30){ %>  
                  <p>Actualmente hace mucho <strong>¡calor!</strong></p>
                  <% } %>  
              <p class="card-text">y el cielo esta <strong><%= data.weather.description %></strong></p>
            </div>
            <ul class="list-group list-group-flush">
              <li class="list-group-item"><i class="fas fa-tint"></i> Humedad <%= data.weather.humidity %> %</li>
              <li class="list-group-item"><i class="fas fa-long-arrow-alt-down"></i> Presión <%= data.weather.pressure %> hPa</li>
              <li class="list-group-item"><i class="fas fa-wind"></i> Viento <%= data.weather.wing_deg %> a <%= data.weather.wind_speed %> km/h</li>
              <% if(data.weather.st){ %> 
              <li class="list-group-item"><i class="fas fa-thermometer-half"></i> Sensacion Termica <%= data.weather.st %>°</li>
              <% } %> 
              <li class="list-group-item"><i class="fas fa-eye"></i> Visibilidad <%= data.weather.visibility %> Km</li>
              <li class="list-group-item">Provincia de <%= data.province %></li>
            </ul>
          </div>
        </div>
        <% }) %>
    </section>

    </div>
    
    <!-- inicio footer -->
    <%- include("./partials/footer") %>
    <!-- fin footer -->

  
</body>
</html>