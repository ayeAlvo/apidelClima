<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://kit.fontawesome.com/1c47cb3d39.js" crossorigin="anonymous"></script>
  <title>Api Clima</title>
</head>
<body> 

  <!-- navBar -->
  <header><%- include("./partials/navBar") %></header>
  <!-- fin navBar -->

  <div class="container">
  <h1 class="mb-4 mt-4 text-center" >El clima de la Provincia de <%= nameProv %> </h1>

  <section class="row row-cols-1 row-cols-md-3 g-4 mt-3">
    <% province.forEach(data => { %>
      <div class="col"> 
        <div class="card text-dark bg-info mb-3 shadow" style="max-width: 18rem;">
          <div class="card-header"><h2 class="text-center"><%= data.name %></h2>
            <% if(data.weather.description.toLowerCase().includes('neblina')){ %>
              <p class="text-center"><i class="fas fa-smog fa-3x"></i></i></p>
              <%}else if(data.weather.description.toLowerCase().includes('llovizna')){ %> 
                <p class="text-center"><i class="fas fa-cloud-showers-heavy fa-3x"></i></p>
              <%}else if(data.weather.description.toLowerCase().includes('nublado')){ %> 
              <p class="text-center"><i class="fas fa-cloud-sun fa-3x"></i></p>
              <% }else if(data.weather.description.toLowerCase().includes('cubierto')){ %>
                <p class="text-center"><i class="fas fa-cloud fa-3x"></i></p>
              <% }else if(data.weather.description.toLowerCase().includes('cubierto')){ %>
                <p class="text-center"><i class="fas fa-cloud fa-3x"></i></p>
              <% } %>     
            </div>
          <div class="card-body">
            <h5 class="card-title">La temperatura es de <%= data.weather.tempDesc %></h5>
            <p class="card-text"><% if(data.weather.temp < 10){ %>
              Actualmente hace <strong>¡mucho frío!</strong>
            <% }else if(data.weather.temp < 20 && data.weather.temp >= 10){ %> </p>
              <p>Actualmente está <strong>¡un poco fresco!</strong></p>
              <% }else if(data.weather.temp >= 20 && data.weather.temp < 30){ %> 
                <p>Actualmente está <strong>¡agradable!</strong></p>
              <% }else if(data.weather.temp >= 30){ %>  
                <p>Actualmente hace mucho <strong>¡calor!</strong></p>
                <% } %>  
            <p class="card-text">y el cielo esta <strong><%= data.weather.description %></strong></p>
          </div>
          <!-- <img src="..." class="card-img-top" alt="..."> -->
          <ul class="list-group list-group-flush">
            <li class="list-group-item"><i class="fas fa-tint"></i> Humedad <%= data.weather.humidity %> %</li>
            <li class="list-group-item"><i class="fas fa-long-arrow-alt-down"></i> Presión <%= data.weather.pressure %> hPa</li>
            <li class="list-group-item"><i class="fas fa-wind"></i> Viento <%= data.weather.wing_deg %> a <%= data.weather.wind_speed %> km/h</li>
            <% if(data.weather.st){ %> 
            <li class="list-group-item"><i class="fas fa-thermometer-half"></i> Sensacion Termica <%= data.weather.st %>°</li>
            <% } %> 
            <li class="list-group-item"><i class="fas fa-eye"></i> Visibilidad <%= data.weather.visibility %> Km</li>
            <li class="list-group-item">Provincia de <%= data.province %></li>
          </ul>
        </div>
      </div>
  <% }) %>
 </section>
</div>

<!-- inicio footer -->
<%- include("./partials/footer") %>
<!-- fin footer -->

</body>
</html>
